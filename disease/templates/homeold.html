 {% load static %}
<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>MePredictor Pro</title>
  <link rel="stylesheet" href="{% static 'css/style.css' %}">
  <link rel="stylesheet" href="{% static 'disease/css/style.css' %}">
  <link rel="stylesheet" href="{% static 'css/bootstrap.min.css' %}"> 
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootswatch@5.3.3/dist/lumen/bootstrap.min.css">

</head>
<body>
<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"></script>

<!-- Navbar -->
<nav class="navbar navbar-expand-lg navbar-dark bg-primary fixed-top">
  <div class="container-fluid">
    <a class="navbar-brand" href="{% url 'home' %}#home">MePredictor Pro</a>
    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarNav"
      aria-controls="navbarNav" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>
    
    <div class="collapse navbar-collapse" id="navbarNav">
      <ul class="navbar-nav ms-auto"> <!-- Pushes nav items to the right -->
        <li class="nav-item">
          <a class="nav-link" href="{% url 'home' %}#home">Home</a>
        </li>
        <li class="nav-item">
          <a class="nav-link" href="{% url 'home' %}#about">About</a>
        </li>
        <li class="nav-item">
          <a class="nav-link" href="{% url 'home' %}#how">How to Use</a>
        </li>
        <li class="nav-item">
          <a class="nav-link" href="{% url 'home' %}#predict">Predict</a>
        </li>
      </ul>
    </div>
  </div>
</nav>


<!-- HOME SECTION -->
<section id="home" class="home-section position-relative text-light">
  <div class="video-wrapper">
    <video autoplay muted loop class="background-video">
      <source src="{% static 'media/8090411-uhd_4096_2160_25fps.mp4' %}" type="video/mp4">
    </video>
  </div>
  <div class="container content text-center">
  <h3 class="display-4" style="font-weight: bold;">MePredictor Pro</h3>
  <p class="lead text-muted">
  Not feeling well? Select your symptoms and let our intelligent system guide you to a possible diagnosis in seconds.
  </p>
    <a href="#predict" class="btn btn-primary mt-3">Start Predicting</a>
  </div>
</section>


<!-- ABOUT Section -->

<section id="about" class="position-relative min-vh-100 overflow-hidden">
  <!-- Background Video -->
  <video autoplay muted loop class="w-100 h-100 position-absolute top-0 start-0 object-fit-cover">
    <source src="{% static 'media/home.mp4' %}" type="video/mp4">
    Your browser does not support the video tag.
  </video>

  <!-- Overlay Content -->
  <div class="position-absolute top-0 start-0 w-100 h-100 d-flex align-items-center justify-content-center" style="background-color: rgba(0, 0, 0, 0.5); padding: 30px;">
    <div class="container">
      <div class="bg-white text-dark p-5 rounded shadow-lg mx-auto" style="max-width: 900px;">
        <h2 class="display-5 fw-bold mb-4 text-center">About This Project</h2>
        <p class="fs-5 lh-lg">
          Many people struggle to understand what illness they might have when symptoms appear. This project is designed to help. It uses a smart system called <strong>Machine Learning</strong> that has been trained to recognize patterns in symptoms. By selecting your symptoms, the system can compare them with thousands of medical cases and suggest the most likely disease.
        </p>
        <p class="fs-5 lh-lg">
          The model behind this tool was trained using a method called <strong>Random Forest</strong>, which means it makes predictions by combining the opinions of many smaller decision-makers ‚Äî just like asking multiple doctors for advice.
        </p>
        <p class="fs-5 lh-lg">
          You don't need any medical or technical knowledge to use it. Simply choose your symptoms, and it gives you an idea of what illness it might be along with general tips to take care of yourself.
        </p>
      </div>
    </div>
  </div>
</section>

<!-- HOW TO USE Section (Expanded Version) -->
<section id="how" style="background-color: #f8f9fa; padding: 100px 20px;">
  <div class="container text-center">
    <h2 class="display-5 fw-bold mb-4">How to Use</h2>
    <p class="lead" style="font-size: 1.2rem;">
      Using this intelligent tool is simple and doesn't require any technical knowledge. Just follow the steps below:
    </p>
    <ul class="list-unstyled text-start mx-auto" style="max-width: 800px; font-size: 1.15rem; line-height: 1.9;">
      <li>ü©∫ <strong>Step 1:</strong> Scroll down to the <strong>Prediction</strong> section of this page.</li>
      <li>‚úÖ <strong>Step 2:</strong> Browse through the list of symptoms provided.</li>
      <li>üìù <strong>Step 3:</strong> Select the symptoms you are currently experiencing by checking the boxes. You can choose up to <strong>17 symptoms</strong>.</li>
      <li>üîç <strong>Step 4:</strong> Click on the <strong>Predict</strong> button below the list of symptoms.</li>
      <li>üìä <strong>Step 5:</strong> The system will process your input and display the <strong>most likely disease</strong> based on the selected symptoms.</li>
      <li>üí° <strong>Step 6:</strong> You will also receive a list of <strong>suggested precautions</strong> you can take immediately to manage your symptoms or stay safe.</li>
      <li>üîÅ <strong>Tip:</strong> You can come back and update your symptoms any time and check again.</li>
    </ul>
  </div>
</section>
<!-- PREDICTION SECTION WITH VIDEO BACKGROUND -->
<section id="predict" style="position: relative; min-height: 100vh; overflow: hidden;">

  <!-- Background Video -->
  <video autoplay muted loop class="background-video" style="position:absolute; top:0; left:0; width:100%; height:100%; object-fit:cover; z-index:-1;">
    <source src="{% static 'media/2.mp4' %}" type="video/mp4">
    Your browser does not support the video tag.
  </video>

  <!-- Overlay -->
  <div class="overlay d-flex justify-content-center align-items-center" style="position:relative; z-index:1; background-color: rgba(0,0,0,0.6); padding: 60px 20px;">
    <div class="container text-white text-center">
      <h2 class="display-5 fw-bold mb-4">Disease Prediction</h2>

      <!-- Prediction Form -->
      <form method="POST" action="{% url 'predict' %}" class="bg-light text-dark p-4 rounded shadow" style="max-width: 900px; margin: auto;">
        {% csrf_token %}
        <div class="row">
          {% for s in symptoms %}
          <div class="col-md-4 mb-2">
            <div class="form-check text-start">
              <input class="form-check-input" type="checkbox" name="symptoms" value="{{ s }}" id="symptom_{{ forloop.counter }}">
              <label class="form-check-label" for="symptom_{{ forloop.counter }}">
                {{ s|capfirst }}
              </label>
            </div>
          </div>
          {% endfor %}
        </div>
        <button type="submit" class="btn btn-primary mt-4">Predict</button>
      </form>

{% if predicted_disease %}
<!-- Prediction Result Box -->
<div id="predict-result" class="bg-white text-dark mt-5 p-5 rounded shadow" style="max-width: 1000px; margin: auto;">
  <h3 class="fw-bold mb-4 text-center">ü©∫ Prediction Result</h3>
  
  <p class="fs-5 mb-3 text-center">
    Based on your selected symptoms, the system suggests the following possible condition:
  </p>

  <div class="text-center mb-4">
    <span class="badge bg-primary fs-4 px-4 py-2">{{ predicted_disease }}</span>
  </div>

  <h5 class="fw-bold mt-4">Suggested Precautions:</h5>
  <ul class="fs-5 text-start" style="line-height: 2;">
    {% for p in precautions %}
      <li>{{ p }}</li>
    {% endfor %}
  </ul>

  <hr class="my-4">
  <p class="fs-6 text-muted text-center">
    ‚ö†Ô∏è This is an AI-based prediction. Please consult a certified medical professional for diagnosis and treatment.
  </p>
</div>
{% endif %}
{% if scroll_to %}
<script>
  window.onload = function() {
    location.href = "#{{ scroll_to }}";
  };
</script>
{% endif %}
</body>